<?php

/** @var \Amasty\DaniilLoban\Block\Form $block */
$formClassName = $this->hasFormClassName() ? " " . $this->getFormClassName() : "";
?>

<div class="template coolform" data-bind="scope: 'coolAutocomplete'">
    <form action="<?= $block->getFormAction() ?>" data-mage-init='{"validation":{}}' class="<?= $formClassName ?>">
        <!-- ko template: getTemplate() -->
        <!-- /ko -->
        <? if ($block->isShowQty()) { ?>
            <input type="number" name="qty" value="<?= $block->getDefaultQty(); ?>" data-validate='{"required":true, "validate-not-negative-number" :true}' />
        <? } ?>
        <?= $block->getChildHtml(); ?>
        <button type="submit">Add</buton>
    </form>
</div>

<script type="text/x-magento-init">
    {
        "*":{
            "Magento_Ui/js/core/app": {
                "components":{
                    "coolAutocomplete": {
                        "component": "Amasty_DaniilLoban/js/koAutocomplete",
                        "template": "Amasty_DaniilLoban/koAutocomplete"
                    },
                    "coolTimer": {
                        "component": "Amasty_DaniilLoban/js/koTimer",
                        "template": "Amasty_DaniilLoban/koTimer"
                    }

                }
            }
        }
    }
</script>